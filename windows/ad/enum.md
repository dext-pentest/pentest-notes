# Enum



```shell
// enumerate all windows machines in a segment
crackmapexec smb IP/24
```

```shell
// Some code
crackmapexec smb IP --users
```

```shell
// enum DC users via RCP
rpcclient -U "DCname\USER%PASSWORD" DC-IP -c "enumdomusers"
```

```bash
// enum DC users via RPC and get username and description

for rid in $(rpcclient -U "DCname\USER%PASSWORD" DC-IP -c "enumdomusers" | grep -oP '\[.*?\]' | grep '0x' | tr -d '[]');do echo -e "\n[+] Getting info for RID $rid:\n";rpcclient -U "DCname\USER%PASSWORD" DC-IP -c "queryuser $rid" | grep -E -i "user name|description";done
```

```shell
// enum user via LDAP
cd /var/www/html
service apache2 start
python3 ldapdomaindump.py -u "DC-NAME\USER" -p "PASSWORD" DC-IP
//check localhost:80 to see the info.

```

